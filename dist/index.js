(()=>{"use strict";var t={d:(r,e)=>{for(var n in e)t.o(e,n)&&!t.o(r,n)&&Object.defineProperty(r,n,{enumerable:!0,get:e[n]})},o:(t,r)=>Object.prototype.hasOwnProperty.call(t,r),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},r={};t.r(r),t.d(r,{addHooks:()=>mt,createHook:()=>st,default:()=>qt,html:()=>Ht,render:()=>Nt,renderArray:()=>Ft,ternary:()=>_t,text:()=>Rt});var e=Symbol("ref"),n=["textContent","innerHTML","outerHTML","innerText","style"],o=["checked","selected","disabled","readonly","multiple","ismap","noresize","reversed","autocomplete"],a=["h1","h2","h3","h4","h5","h6","p","a","span","em","i","small","strong","sub","sup","ins","del","mark","pre","b","code","abbr","kbd","cite"],i=["create","destroy","mount","unmount"],u={textcontent:"textContent",text:"textContent",innerhtml:"innerHTML",html:"innerHTML",innertext:"innerText",style:"style",children:"children"};function c(t,r){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),e.push.apply(e,n)}return e}function l(t){for(var r=1;r<arguments.length;r++){var e=null!=arguments[r]?arguments[r]:{};r%2?c(Object(e),!0).forEach((function(r){f(t,r,e[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):c(Object(e)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))}))}return t}function f(t,r,e){return r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e,t}function s(t){return function(t){if(Array.isArray(t))return d(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,r){if(t){if("string"==typeof t)return d(t,r);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?d(t,r):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(t,r){(null==r||r>t.length)&&(r=t.length);for(var e=0,n=new Array(r);e<r;e++)n[e]=t[e];return n}var y=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;return Math.random().toString(36).slice(2,t)},p=function(){for(var t=arguments.length,r=new Array(t),e=0;e<t;e++)r[e]=arguments[e];if(r.some((function(t){return"function"!=typeof t})))throw new Error("Argument must be a function");return r.reduce((function(t,r){return function(){return r(t.apply(void 0,arguments))}}))},m=function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return r?r(t):t},v=function(t){return s(t.children)},b=function(t){for(;t.firstChild;)t.removeChild(t.lastChild)},h=function t(r,e){e(r),r.children&&r.children.length&&v(r).forEach((function(r){return t(r,e)}))},g=function(t,r){return r.reduce((function(r,e,n){return"".concat(r).concat(e).concat(t[n+1])}),t[0])},A=function(t){return t.reduce((function(t,r){var e;return t.str.push(r.str),(e=t.handlers).push.apply(e,s(r.handlers)),t.dict=l(l({},t.dict),r.dict),t}),{str:[],handlers:[],dict:{}})};function w(t){return function(t){if(Array.isArray(t))return O(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,r){if(t){if("string"==typeof t)return O(t,r);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?O(t,r):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(t,r){(null==r||r>t.length)&&(r=t.length);for(var e=0,n=new Array(r);e<r;e++)n[e]=t[e];return n}var S=["data-proxyid"],j=function(t){return t.getAttribute("keystring")||"key"},E=function(t,r){return t.getAttribute(r)||t.getAttribute("key")||t.getAttribute("data-key")},I=function(t,r){return null!==t.getAttribute("is-".concat(r))||t.getAttribute("behavior")===r},x=function(t){return I(t,"list")},k=function(t,r,e){var n=v(t),o=n.map((function(t){return E(t,e)})),a=r.map((function(t){return E(t,e)})),i=a.filter((function(t){return!o.includes(t)}));o.filter((function(t){return!a.includes(t)})).forEach((function(t){return n.find((function(r){return E(r,e)===t})).remove()}));var u,c=o.filter((function(t){return a.includes(t)}));c.push.apply(c,w(i)),a.forEach((function(n,o){var a=c.indexOf(n),l=i.includes(n)?r[o]:v(t).find((function(t){return E(t,e)===n}));a===o&&t.contains(l)||(u?l.previousElementSibling!==u&&u.after(l):t.prepend(l)),u=l}))},P=function t(r,e){if(null===r.getAttribute("ignore-all"))if(function(t,r){var e=w(t.attributes),n=w(r.attributes),o=[].concat(w((t.getAttribute("ignore")||"").split(",")),S);e.filter((function(t){return!n.map((function(t){return t.name})).includes(t.name)})).filter((function(t){return!o.includes(t.name)})).forEach((function(r){return t.removeAttribute(r.name)})),n.filter((function(t){return!o.includes(t.name)})).forEach((function(r){return t.setAttribute(r.name,r.value)}))}(r,e),null!==r.getAttribute("ignore-content")||!function(t){return I(t,"text")}(r)&&!a.includes(r.nodeName.toLowerCase()))if(x(r)){var n=v(e);k(r,n,j(r)),v(r).forEach((function(r,e){return t(r,n[e])}))}else r.children.length&&v(r).forEach((function(r,n){return t(r,e.children[n])}));else r.innerHTML!==e.innerHTML&&(r.innerHTML=e.innerHTML)},T=function(t,r){var e=j(t);if(function(t,r){return t.some((function(t){return!E(t,r)}))}(r,e))throw new Error("every children should have a key if parent is of type list");k(t,r,e),v(t).forEach((function(t,e){return P(t,r[e])}))},C=function t(r,e,n){!function(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,t),this.str=r,this.handlers=e,this.dict=n};function M(t){return M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},M(t)}var L=document.createElement("div"),$=[],H=function(t){return"object"===M(t)},D=function(t){return"function"==typeof t},N=function(t){return"string"==typeof t},U=function(t){return Array.isArray(t)},W=function(t){return t instanceof C},F=function(t){return t instanceof Node},_=function(t){return N(t)?t.startsWith("$"):!(!H(t)&&!D(t)||!t[e])},R=function(t){return t.toLowerCase().startsWith("on")},q=function(t){return o.includes(t)};function V(t,r){return function(t){if(Array.isArray(t))return t}(t)||function(t,r){var e=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var n,o,a=[],i=!0,u=!1;try{for(e=e.call(t);!(i=(n=e.next()).done)&&(a.push(n.value),!r||a.length!==r);i=!0);}catch(t){u=!0,o=t}finally{try{i||null==e.return||e.return()}finally{if(u)throw o}}return a}}(t,r)||function(t,r){if(t){if("string"==typeof t)return z(t,r);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?z(t,r):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(t,r){(null==r||r>t.length)&&(r=t.length);for(var e=0,n=new Array(r);e<r;e++)n[e]=t[e];return n}var Y=function(t,r){var e=function(t){var r=y(),e=y(4),n="data-".concat(t,"-").concat(e);return["".concat(n,'="').concat(r,'"'),n]}(t),n=V(e,2),o=n[0],a=n[1],i=[];return Object.entries(r).forEach((function(r){var e=V(r,2),n=e[0],u=e[1];i.push({type:t,selector:"[".concat(o,"]"),attr:a,data:{name:n,value:u},remove:!1})})),i[i.length-1].remove=!0,{str:o,handlers:i}};function B(t,r){return function(t){if(Array.isArray(t))return t}(t)||function(t,r){var e=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var n,o,a=[],i=!0,u=!1;try{for(e=e.call(t);!(i=(n=e.next()).done)&&(a.push(n.value),!r||a.length!==r);i=!0);}catch(t){u=!0,o=t}finally{try{i||null==e.return||e.return()}finally{if(u)throw o}}return a}}(t,r)||G(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(t,r){if(t){if("string"==typeof t)return J(t,r);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?J(t,r):void 0}}function J(t,r){(null==r||r>t.length)&&(r=t.length);for(var e=0,n=new Array(r);e<r;e++)n[e]=t[e];return n}var K=function(t){var r="attr",e=t;return _(t)?r="hook":function(t){var r=t.replace("on","").toLowerCase();return R(t)&&i.includes(r)}(t)?r="lifecycle":R(t)?r="listener":function(t){return n.includes(t)}(t)?r="prop":function(t){return!$.includes(t)&&(t in L.style||t.startsWith("style_"))}(t)?r="style":"children"===t&&(r="children"),"listener"!==r&&"lifecycle"!==r||(e=t.toLowerCase()),[e.replace(/^(\$|@|on|style_)/gi,""),r]},Q=function t(r){var e=Object.entries(r).reduce((function(t,r){var e=B(r,2),n=e[0],o=e[1],a=B(K(n),2),i=a[0],u=a[1];return t[u]||(t[u]={}),t[u][i]=o,t}),{});return e.hook&&(e.hook=t(e.hook)),e},X=function(t){return A(Object.entries(t).map((function(t){return Y.apply(void 0,function(t){if(Array.isArray(t))return J(t)}(r=t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(r)||G(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());var r})))};function Z(t){return function(t){if(Array.isArray(t))return tt(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,r){if(t){if("string"==typeof t)return tt(t,r);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?tt(t,r):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tt(t,r){(null==r||r>t.length)&&(r=t.length);for(var e=0,n=new Array(r);e<r;e++)n[e]=t[e];return n}var rt=function(t,r,e){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:document,o=F(t)?t:n.querySelector(t);if(!o)throw new Error("Can't find node using selector ".concat(t,"."));switch(r){case"prop":o[e.name]=e.value;break;case"style":o.style[e.name]=e.value;break;case"attr":q(e.name)?e.value?o.setAttribute(e.name,""):o.removeAttribute(e.name):o.setAttribute(e.name,e.value);break;case"lifecycle":o.addEventListener("@".concat(e.name),e.value,{once:"create"===e.name});break;case"listener":o.addEventListener(e.name,e.value);break;case"node":o.replaceWith(e.value);break;case"children":var a=[e.value].flat();if(x(o)){var i=a.map((function(t){if(t instanceof DocumentFragment){if(t.children.length>1)throw new Error("List item should have a parent");return t.firstElementChild}return t}));T(o,i)}else{b(o);var u=document.createDocumentFragment();u.append.apply(u,Z(a)),o.append(u)}break;default:throw new Error("Invalid type.")}return o};function et(t){return function(t){if(Array.isArray(t))return at(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||ot(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nt(t,r){return function(t){if(Array.isArray(t))return t}(t)||function(t,r){var e=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var n,o,a=[],i=!0,u=!1;try{for(e=e.call(t);!(i=(n=e.next()).done)&&(a.push(n.value),!r||a.length!==r);i=!0);}catch(t){u=!0,o=t}finally{try{i||null==e.return||e.return()}finally{if(u)throw o}}return a}}(t,r)||ot(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ot(t,r){if(t){if("string"==typeof t)return at(t,r);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?at(t,r):void 0}}function at(t,r){(null==r||r>t.length)&&(r=t.length);for(var e=0,n=new Array(r);e<r;e++)n[e]=t[e];return n}function it(t,r){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),e.push.apply(e,n)}return e}function ut(t){for(var r=1;r<arguments.length;r++){var e=null!=arguments[r]?arguments[r]:{};r%2?it(Object(e),!0).forEach((function(r){ct(t,r,e[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):it(Object(e)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))}))}return t}function ct(t,r,e){return r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e,t}var lt,ft=new WeakMap,st=function(t){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],e=H(t)?t:{value:t};e=r?Object.seal(e):e,ft.set(e,new Map);var n=Proxy.revocable(e,{get:yt,set:pt}),o=n.proxy,a=n.revoke,i=function(){return a(),ft.delete(e),t};return[o,i]},dt=function t(r,n){var o=r.data.trap||function(t){return t},a=r.data.value;return"function"==typeof o(a)[n]?function(){for(var a,i=arguments.length,u=new Array(i),c=0;c<i;c++)u[c]=arguments[c];var l=(ct(a={},e,r[e]),ct(a,"data",ut(ut({},r.data),{},{trap:p(o,(function(t){return t[n].apply(t,u)}))})),a);return new Proxy(l,{get:t})}:Reflect.get(r,n)},yt=function(t,r,n){var o=nt(K(r),2),a=o[0],i=o[1],u=function(t,r,n){return function(){var o,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return ct(o={},e,t),ct(o,"data",{prop:r,trap:a,value:n}),o}}(t,a,t[a]);return"hook"===i&&a in t?Object.assign(new Proxy(u,{get:dt}),u()):Reflect.get(t,a,n)},pt=function(t,r,e,n){var o=ft.get(t);return o.forEach((function(t,n){var a='[data-proxyid="'.concat(n,'"]');document.querySelector(a)?t.filter((function(t){return t.prop===r})).forEach((function(t){rt(a,t.type,{name:t.target,value:m(e,t.trap)})})):o.delete(n)})),Reflect.set(t,r,e,n)},mt=function(t,r){var n=t.dataset.proxyid||y();return t.dataset.proxyid=n,Object.entries(r).forEach((function(r){var o=nt(r,2),a=o[0],i=o[1];if(!_(i))throw new TypeError("Value must be a hook");var u=nt(K(a),2),c=u[0],l=u[1],f=ft.get(i[e]),s=f.get(n)||[],d={type:l,target:c,prop:i.data.prop,trap:i.data.trap};f.set(n,[].concat(et(s),[d])),rt(t,d.type,{name:d.target,value:m(i.data.value,d.trap)})})),t},vt=function(t,r){h(r,(function(r){return r.dispatchEvent(new Event("@".concat(t)))}))},bt=function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return r.forEach((function(r){var e=rt(r.selector,r.type,r.data,t);r.remove&&e.removeAttribute(r.attr)}))};function ht(t,r){if(t){if("string"==typeof t)return gt(t,r);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?gt(t,r):void 0}}function gt(t,r){(null==r||r>t.length)&&(r=t.length);for(var e=0,n=new Array(r);e<r;e++)n[e]=t[e];return n}var At="placeholder-",wt=function(t){for(var r=/{%\s*(.*)\s*%}/,e=t,n=e.match(r);n;)e=e.replace(n[0],"\x3c!-- ".concat(At).concat(n[1].trim()," --\x3e")),n=e.slice(n.index).match(r);return e},Ot=function(t){for(var r,e=document.createNodeIterator(t,NodeFilter.SHOW_COMMENT,(function(){return NodeFilter.FILTER_ACCEPT}));r=e.nextNode();){var n=r.nodeValue.trim();n.startsWith(At)&&r.replaceWith(document.createTextNode(n.replace(At,"")))}},St=function(t,r){var e=/\$\$id:\w+/;h(t,(function(t){if((l=t.attributes,function(t){if(Array.isArray(t))return gt(t)}(l)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(l)||ht(l)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).forEach((function(n){var o=n.value.trim().match(e);if(o){var a=o[0].split(":")[1],i=r[a];if(_(i)){var c=u[n.name]||n.name;if(o[0]!==n.value.trim()){var l=i.data.trap;i.data.trap=p((function(t){return m(t,l)}),(function(t){return g(n.value.split(o[0]),[t])}))}mt(t,function(t,r,e){return r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e,t}({},c,i))}else{var f=function(t,r){return function(t){if(Array.isArray(t))return t}(t)||function(t,r){var e=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var n,o,a=[],i=!0,u=!1;try{for(e=e.call(t);!(i=(n=e.next()).done)&&(a.push(n.value),!r||a.length!==r);i=!0);}catch(t){u=!0,o=t}finally{try{i||null==e.return||e.return()}finally{if(u)throw o}}return a}}(t,r)||ht(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(K(n.name),2),s=f[0],d=f[1];rt(t,d,{name:s,value:i})}t.removeAttribute(n.name)}})),!t.children.length){var n=t.textContent.trim(),o=n.match(e);if(o){var a=o[0].split(":")[1],i=r[a];if(!_(i))throw new TypeError("You can only pass a hook to body");if(o[0]!==n){var c=i.data.trap;i.data.trap=p((function(t){return m(t,c)}),(function(t){return g(n.split(o[0]),[t])}))}mt(t,{children:i})}}var l}))};function jt(t){return function(t){if(Array.isArray(t))return Et(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,r){if(t){if("string"==typeof t)return Et(t,r);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?Et(t,r):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Et(t,r){(null==r||r>t.length)&&(r=t.length);for(var e=0,n=new Array(r);e<r;e++)n[e]=t[e];return n}var It=[],xt=function(t){var r=[],e=t;return It.forEach((function(t){var n;if(n=U(t)?p.apply(void 0,jt(t))(e):t(e),U(n))e=n[0],r.push.apply(r,jt(n[1]||[]));else{if("string"!=typeof n)throw new Error("Preprocessor must return a string or an array");e=n}})),[e,r]},kt=["hook"];function Pt(t,r){return function(t){if(Array.isArray(t))return t}(t)||function(t,r){var e=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var n,o,a=[],i=!0,u=!1;try{for(e=e.call(t);!(i=(n=e.next()).done)&&(a.push(n.value),!r||a.length!==r);i=!0);}catch(t){u=!0,o=t}finally{try{i||null==e.return||e.return()}finally{if(u)throw o}}return a}}(t,r)||Ct(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tt(t){return function(t){if(Array.isArray(t))return Mt(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Ct(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ct(t,r){if(t){if("string"==typeof t)return Mt(t,r);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?Mt(t,r):void 0}}function Mt(t,r){(null==r||r>t.length)&&(r=t.length);for(var e=0,n=new Array(r);e<r;e++)n[e]=t[e];return n}function Lt(t,r,e){return r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e,t}var $t=function t(r){if(function(t){return null==t}(r))return{str:"",handlers:[],dict:{}};if(W(r))return r;if(D(r)||_(r)){var n=y();return{str:"$$id:".concat(n),handlers:[],dict:Lt({},n,r)}}if(F(r)){var o=y();return{str:'<my-marker id="node-'.concat(o,'"></my-marker>'),handlers:[{type:"node",selector:"#node-".concat(o),data:{value:r}}],dict:{}}}if(U(r)){var a=A(r.map(t));return{str:a.str.join(" "),handlers:a.handlers,dict:a.dict}}if(H(r)){var i=Q(r),u=i.hook,c=function(t,r){if(null==t)return{};var e,n,o=function(t,r){if(null==t)return{};var e,n,o={},a=Object.keys(t);for(n=0;n<a.length;n++)e=a[n],r.indexOf(e)>=0||(o[e]=t[e]);return o}(t,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)e=a[n],r.indexOf(e)>=0||Object.prototype.propertyIsEnumerable.call(t,e)&&(o[e]=t[e])}return o}(i,kt),l=X(c),f=u?function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=y(),n='data-proxyid="'.concat(r,'"'),o={};Object.entries(t).forEach((function(t){var n=nt(t,2),a=n[0],i=n[1];Object.entries(i).forEach((function(t){var n=nt(t,2),i=n[0],u=n[1],c=ft.get(u[e]),l=c.get(r)||[];o[a]||(o[a]={}),o[a][i]=m(u.data.value,u.data.trap),c.set(r,[].concat(et(l),[{type:a,target:i,prop:u.data.prop,trap:u.data.trap}]))}))}));var a=X(o),i=a.str;return{handlers:a.handlers,str:[].concat(et(i),[n])}}(u):{str:[],handlers:[]};return{str:[].concat(Tt(l.str),Tt(f.str)).join(" "),handlers:[l.handlers,f.handlers].flat(2),dict:{}}}return{str:"".concat(r),handlers:[],dict:{}}},Ht=function(t){for(var r=arguments.length,e=new Array(r>1?r-1:0),n=1;n<r;n++)e[n-1]=arguments[n];var o=A(e.map($t)),a=wt(g(t,o.str));return new C(a,o.handlers,o.dict)},Dt=function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=xt(t),o=Pt(n,2),a=o[0],i=o[1],u=[].concat(Tt(r),Tt(i)),c=document.createRange().createContextualFragment(a);return bt(c,u),v(c).forEach((function(t){Ot(t),St(t,e),vt("create",t)})),c},Nt=function(t,r){var e=Dt.apply(void 0,Tt(Object.values(t)));if(r){var n=N(r)?document.querySelector(r):r;return n.append(e),n}return e};function Ut(t){return function(t){if(Array.isArray(t))return Wt(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,r){if(t){if("string"==typeof t)return Wt(t,r);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?Wt(t,r):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wt(t,r){(null==r||r>t.length)&&(r=t.length);for(var e=0,n=new Array(r);e<r;e++)n[e]=t[e];return n}var Ft=function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,e=t.data.trap;return t.data.trap=p((function(t){return m(t,e)}),(function(t){return t.map((function(){var t=r?r.apply(void 0,arguments):arguments.length<=0?void 0:arguments[0];return W(t)?Nt(t):t}))})),t},_t=function(t,r,e){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=t.data.trap;return t.data.trap=p((function(t){return m(t,o)}),(function(t){return m(t,n)?r:e})),t},Rt=function(t){for(var r=arguments.length,e=new Array(r>1?r-1:0),n=1;n<r;n++)e[n-1]=arguments[n];var o=e.findIndex(_);if(o<0)throw new Error("A hook is expected");var a=e.slice(0,o),i=e.slice(o+1),u=e[o],c=u.data.trap,l=function(r){return g(t,[].concat(Ut(a),[r],Ut(i)))};return u.data.trap=c?p(c,l):l,u};(lt=new MutationObserver((function(t){t.forEach((function(t){"childList"===t.type&&(t.addedNodes.forEach((function(t){vt("mount",t)})),t.removedNodes.forEach((function(t){vt("unmount",t),document.body.contains(t)||vt("destroy",t)})))}))}))).observe(document.body,{childList:!0,subtree:!0});const qt={addIgnoredAttribute:function(){return S.push.apply(S,arguments)},addPreprocessor:function(){var t;return(t=It).push.apply(t,arguments)},removePreprocessor:function(t){It=It.filter((function(r){return r!==t}))},disableObserver:function(){return lt.disconnect()}};module.exports=r})();