(()=>{"use strict";var t={d:(r,e)=>{for(var n in e)t.o(e,n)&&!t.o(r,n)&&Object.defineProperty(r,n,{enumerable:!0,get:e[n]})},o:(t,r)=>Object.prototype.hasOwnProperty.call(t,r),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},r={};t.r(r),t.d(r,{addHooks:()=>dt,createHook:()=>ct,default:()=>Dt,html:()=>Mt,render:()=>Ht,text:()=>yt});var e=function t(r,e,n){!function(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,t),this.str=r,this.handlers=e,this.dict=n},n=Symbol("ref"),o=["textContent","innerHTML","outerHTML","innerText","style"],a=["checked","selected","disabled","readonly","multiple","ismap","noresize","reversed","autocomplete"],i=["h1","h2","h3","h4","h5","h6","p","a","span","em","i","small","strong","sub","sup","ins","del","mark","pre","b","code","abbr","kbd","cite"],u=["data-proxyid"],c=["create","destroy","mount","unmount"],l={textcontent:"textContent",text:"textContent",innerhtml:"innerHTML",html:"innerHTML",innertext:"innerText",style:"style",children:"children"},f=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;return Math.random().toString(36).slice(2,t)};function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}var d=document.createElement("div"),y=[],p=function(t){return"object"===s(t)},m=function(t){return"function"==typeof t},b=function(t){return Array.isArray(t)},v=function(t){return t instanceof Node},h=function(t){return function(t){return"string"==typeof t}(t)?t.startsWith("$"):!(!p(t)&&!m(t)||!t[n])},g=function(t){return t.toLowerCase().startsWith("on")},w=function(t){return a.includes(t)};function A(t,r){return function(t){if(Array.isArray(t))return t}(t)||function(t,r){var e=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var n,o,a=[],i=!0,u=!1;try{for(e=e.call(t);!(i=(n=e.next()).done)&&(a.push(n.value),!r||a.length!==r);i=!0);}catch(t){u=!0,o=t}finally{try{i||null==e.return||e.return()}finally{if(u)throw o}}return a}}(t,r)||function(t,r){if(t){if("string"==typeof t)return O(t,r);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?O(t,r):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(t,r){(null==r||r>t.length)&&(r=t.length);for(var e=0,n=new Array(r);e<r;e++)n[e]=t[e];return n}var S=function(t){var r="attr",e=t;return h(t)?r="hook":function(t){var r=t.replace("on","").toLowerCase();return g(t)&&c.includes(r)}(t)?r="lifecycle":g(t)?r="listener":function(t){return o.includes(t)}(t)?r="prop":function(t){return!y.includes(t)&&(t in d.style||t.startsWith("style_"))}(t)?r="style":"children"===t&&(r="children"),"listener"!==r&&"lifecycle"!==r||(e=t.toLowerCase()),[e.replace(/^(\$|@|on|style_)/gi,""),r]},j=function t(r){var e=Object.entries(r).reduce((function(t,r){var e=A(r,2),n=e[0],o=e[1],a=A(S(n),2),i=a[0],u=a[1];return t[u]||(t[u]={}),t[u][i]=o,t}),{});return e.hook&&(e.hook=t(e.hook)),e};function E(t,r){(null==r||r>t.length)&&(r=t.length);for(var e=0,n=new Array(r);e<r;e++)n[e]=t[e];return n}var I=function(){for(var t=arguments.length,r=new Array(t),e=0;e<t;e++)r[e]=arguments[e];if(r.some((function(t){return"function"!=typeof t})))throw new Error("Argument must be a function");return r.reduce((function(t,r){return function(){return r(t.apply(void 0,arguments))}}))},x=function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return r?r(t):t},k=function(t){return function(t){if(Array.isArray(t))return E(t)}(r=t.children)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(r)||function(t,r){if(t){if("string"==typeof t)return E(t,r);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?E(t,r):void 0}}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();var r},P=function(t){for(;t.firstChild;)t.removeChild(t.lastChild)},T=function t(r,e){e(r),r.children&&r.children.length&&k(r).forEach((function(r){return t(r,e)}))},C=function(t,r){return r.reduce((function(r,e,n){return"".concat(r).concat(e).concat(t[n+1])}),t[0])};function M(t){return function(t){if(Array.isArray(t))return L(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,r){if(t){if("string"==typeof t)return L(t,r);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?L(t,r):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(t,r){(null==r||r>t.length)&&(r=t.length);for(var e=0,n=new Array(r);e<r;e++)n[e]=t[e];return n}var $=function(t,r){return null!==t.getAttribute("is-".concat(r))||t.getAttribute("behavior")===r},H=function(t){return $(t,"list")},D=function(t){return t.getAttribute("keystring")||"key"},N=function(t,r){return t.getAttribute(r)||t.getAttribute("key")||t.getAttribute("data-key")},U=function(t,r,e){var n=k(t),o=n.map((function(t){return N(t,e)})),a=r.map((function(t){return N(t,e)})),i=a.filter((function(t){return!o.includes(t)}));o.filter((function(t){return!a.includes(t)})).forEach((function(t){return n.find((function(r){return N(r,e)===t})).remove()}));var u,c=o.filter((function(t){return a.includes(t)}));c.push.apply(c,M(i)),a.forEach((function(n,o){var a=c.indexOf(n),l=i.includes(n)?r[o]:k(t).find((function(t){return N(t,e)===n}));a===o&&t.contains(l)||(u?l.previousElementSibling!==u&&u.after(l):t.prepend(l)),u=l}))},W=function t(r,e){if(null===r.getAttribute("ignore-all"))if(function(t,r){var e=M(t.attributes),n=M(r.attributes),o=[].concat(M((t.getAttribute("ignore")||"").split(",")),M(u));e.filter((function(t){return!n.map((function(t){return t.name})).includes(t.name)})).filter((function(t){return!o.includes(t.name)})).forEach((function(r){return t.removeAttribute(r.name)})),n.filter((function(t){return!o.includes(t.name)})).forEach((function(r){return t.setAttribute(r.name,r.value)}))}(r,e),null!==r.getAttribute("ignore-content")||!function(t){return $(t,"text")}(r)&&!i.includes(r.nodeName.toLowerCase()))if(H(r)){var n=k(e);U(r,n,D(r)),k(r).forEach((function(r,e){return t(r,n[e])}))}else r.children.length&&k(r).forEach((function(r,n){return t(r,e.children[n])}));else r.innerHTML!==e.innerHTML&&(r.innerHTML=e.innerHTML)},F=function(t,r){var e=D(t);if(function(t,r){return t.some((function(t){return!N(t,r)}))}(r,e))throw new Error("every children should have a key if parent is of type list");U(t,r,e),k(t).forEach((function(t,e){return W(t,r[e])}))};function _(t){return function(t){if(Array.isArray(t))return R(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,r){if(t){if("string"==typeof t)return R(t,r);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?R(t,r):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(t,r){(null==r||r>t.length)&&(r=t.length);for(var e=0,n=new Array(r);e<r;e++)n[e]=t[e];return n}var q=function(t,r,e){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:document,o=v(t)?t:n.querySelector(t);if(!o)throw new Error("Can't find node using selector ".concat(t,"."));switch(r){case"prop":o[e.name]=e.value;break;case"style":o.style[e.name]=e.value;break;case"attr":w(e.name)?e.value?o.setAttribute(e.name,""):o.removeAttribute(e.name):o.setAttribute(e.name,e.value);break;case"lifecycle":o.addEventListener("@".concat(e.name),e.value,{once:"create"===e.name});break;case"listener":o.addEventListener(e.name,e.value);break;case"node":o.replaceWith(e.value);break;case"children":var a=[e.value].flat();if(H(o)){var i=a.map((function(t){if(t instanceof DocumentFragment){if(t.children.length>1)throw new Error("List item should have a parent");return t.firstElementChild}return t}));F(o,i)}else{P(o);var u=document.createDocumentFragment();u.append.apply(u,_(a)),o.append(u)}break;default:throw new Error("Invalid type.")}};function V(t,r){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),e.push.apply(e,n)}return e}function z(t){for(var r=1;r<arguments.length;r++){var e=null!=arguments[r]?arguments[r]:{};r%2?V(Object(e),!0).forEach((function(r){B(t,r,e[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):V(Object(e)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))}))}return t}function B(t,r,e){return r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e,t}function Y(t){return function(t){if(Array.isArray(t))return K(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||J(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(t,r){return function(t){if(Array.isArray(t))return t}(t)||function(t,r){var e=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var n,o,a=[],i=!0,u=!1;try{for(e=e.call(t);!(i=(n=e.next()).done)&&(a.push(n.value),!r||a.length!==r);i=!0);}catch(t){u=!0,o=t}finally{try{i||null==e.return||e.return()}finally{if(u)throw o}}return a}}(t,r)||J(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function J(t,r){if(t){if("string"==typeof t)return K(t,r);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?K(t,r):void 0}}function K(t,r){(null==r||r>t.length)&&(r=t.length);for(var e=0,n=new Array(r);e<r;e++)n[e]=t[e];return n}var Q=function(t,r){var e=function(t){var r=f(),e=f(4),n="data-".concat(t,"-").concat(e);return["".concat(n,'="').concat(r,'"'),n]}(t),n=G(e,2),o=n[0],a=n[1],i=[];return Object.entries(r).forEach((function(r){var e=G(r,2),n=e[0],u=e[1];i.push({type:t,selector:"[".concat(o,"]"),attr:a,data:{name:n,value:u},remove:!1})})),i[i.length-1].remove=!0,{str:o,handlers:i}},X=function(t){return Z(Object.entries(t).map((function(t){return Q.apply(void 0,Y(t))})))},Z=function(t){return t.reduce((function(t,r){var e;return t.str.push(r.str),(e=t.handlers).push.apply(e,Y(r.handlers)),t.dict=z(z({},t.dict),r.dict),t}),{str:[],handlers:[],dict:{}})};function tt(t){return function(t){if(Array.isArray(t))return nt(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||et(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rt(t,r){return function(t){if(Array.isArray(t))return t}(t)||function(t,r){var e=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var n,o,a=[],i=!0,u=!1;try{for(e=e.call(t);!(i=(n=e.next()).done)&&(a.push(n.value),!r||a.length!==r);i=!0);}catch(t){u=!0,o=t}finally{try{i||null==e.return||e.return()}finally{if(u)throw o}}return a}}(t,r)||et(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function et(t,r){if(t){if("string"==typeof t)return nt(t,r);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?nt(t,r):void 0}}function nt(t,r){(null==r||r>t.length)&&(r=t.length);for(var e=0,n=new Array(r);e<r;e++)n[e]=t[e];return n}function ot(t,r){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),e.push.apply(e,n)}return e}function at(t){for(var r=1;r<arguments.length;r++){var e=null!=arguments[r]?arguments[r]:{};r%2?ot(Object(e),!0).forEach((function(r){it(t,r,e[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):ot(Object(e)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))}))}return t}function it(t,r,e){return r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e,t}var ut=new WeakMap,ct=function(t){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],e=p(t)?t:{value:t};e=r?Object.seal(e):e,ut.set(e,new Map);var n=Proxy.revocable(e,{get:ft,set:st}),o=n.proxy,a=n.revoke,i=function(){return a(),ut.delete(e),t};return[o,i]},lt=function t(r,e){var o=r.data.trap||function(t){return t},a=r.data.value;return"function"==typeof o(a)[e]?function(){for(var a,i=arguments.length,u=new Array(i),c=0;c<i;c++)u[c]=arguments[c];var l=(it(a={},n,r[n]),it(a,"data",at(at({},r.data),{},{trap:I(o,(function(t){return t[e].apply(t,u)}))})),a);return new Proxy(l,{get:t})}:Reflect.get(r,e)},ft=function(t,r,e){var o=rt(S(r),2),a=o[0],i=o[1],u=function(t,r,e){return function(){var o,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return it(o={},n,t),it(o,"data",{prop:r,trap:a,value:e}),o}}(t,a,t[a]);return"hook"===i&&a in t?Object.assign(new Proxy(u,{get:lt}),u()):Reflect.get(t,a,e)},st=function(t,r,e,n){var o=ut.get(t);return o.forEach((function(t,n){var a='[data-proxyid="'.concat(n,'"]');document.querySelector(a)?t.filter((function(t){return t.prop===r})).forEach((function(t){q(a,t.type,{name:t.target,value:x(e,t.trap)})})):o.delete(n)})),Reflect.set(t,r,e,n)},dt=function(t,r){var e=t.dataset.proxyid||f();return t.dataset.proxyid=e,Object.entries(r).forEach((function(r){var o=rt(r,2),a=o[0],i=o[1];if(!i[n])throw new TypeError("Value must be a hook");var u=rt(S(a),2),c=u[0],l=u[1],f=ut.get(i[n]),s=f.get(e)||[],d={type:l,target:c,prop:i.data.prop,trap:i.data.trap};f.set(e,[].concat(tt(s),[d])),q(t,d.type,{name:d.target,value:x(i.data.value,d.trap)})})),t},yt=function(t){for(var r=arguments.length,e=new Array(r>1?r-1:0),o=1;o<r;o++)e[o-1]=arguments[o];var a=e.findIndex((function(t){return t[n]}));if(a<0)throw new Error("A hook is expected");var i=e.slice(0,a),u=e.slice(a+1),c=e[a],l=c.data.trap,f=function(r){return C(t,[].concat(tt(i),[r],tt(u)))};return c.data.trap=l?I(l,f):f,c},pt=function(t,r){T(r,(function(r){return r.dispatchEvent(new Event("@".concat(t)))}))},mt=function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return r.forEach((function(r){var e=t.querySelector(r.selector);if(!e)throw new Error("Can't find node using selector ".concat(r.selector,"."));q(r.selector,r.type,r.data,t),r.remove&&e.removeAttribute(r.attr)}))};function bt(t,r){return function(t){if(Array.isArray(t))return t}(t)||function(t,r){var e=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var n,o,a=[],i=!0,u=!1;try{for(e=e.call(t);!(i=(n=e.next()).done)&&(a.push(n.value),!r||a.length!==r);i=!0);}catch(t){u=!0,o=t}finally{try{i||null==e.return||e.return()}finally{if(u)throw o}}return a}}(t,r)||vt(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vt(t,r){if(t){if("string"==typeof t)return ht(t,r);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?ht(t,r):void 0}}function ht(t,r){(null==r||r>t.length)&&(r=t.length);for(var e=0,n=new Array(r);e<r;e++)n[e]=t[e];return n}var gt="placeholder-",wt=function(t){for(var r=/{%\s*(.*)\s*%}/,e=t,n=e.match(r);n;)e=e.replace(n[0],"\x3c!-- ".concat(gt).concat(n[1].trim()," --\x3e")),n=e.slice(n.index).match(r);return e},At=function(t){for(var r,e=document.createNodeIterator(t,NodeFilter.SHOW_COMMENT,(function(){return NodeFilter.FILTER_ACCEPT}));r=e.nextNode();){var n=r.nodeValue.trim();n.startsWith(gt)&&r.replaceWith(document.createTextNode(n.replace(gt,"")))}},Ot=function(t,r){var e=/\s*(\$\$id:\w+)\s*/;T(t,(function(t){var n;(n=t.attributes,function(t){if(Array.isArray(t))return ht(t)}(n)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(n)||vt(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).forEach((function(n){var o=n.value.match(e);if(o&&o[1]){var a=o[1].split(":")[1],i=r[a];if(h(i)){var u=bt(n.value.split(o[1]),2),c=u[0],f=u[1],s=n.name;n in l&&(s=l[n.name]),(c||f)&&(i=yt([c,f],i)),dt(t,function(t,r,e){return r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e,t}({},s,i))}else{var d=bt(S(n.name),2),y=d[0],p=d[1];q(t,p,{name:y,value:i})}t.removeAttribute(n.name)}}));var o=t.innerHTML.match(e);if(o&&o[1]){var a=bt(t.innerHTML.split(o[1]),2),i=a[0],u=a[1],c=o[1].split(":")[1],f=r[c];if(!h(f))throw new TypeError("You can only pass a hook to body");(i.trim()||u.trim())&&(f=yt([i,u],f)),dt(t,{children:f})}}))},St=["hook"];function jt(t,r){return function(t){if(Array.isArray(t))return t}(t)||function(t,r){var e=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var n,o,a=[],i=!0,u=!1;try{for(e=e.call(t);!(i=(n=e.next()).done)&&(a.push(n.value),!r||a.length!==r);i=!0);}catch(t){u=!0,o=t}finally{try{i||null==e.return||e.return()}finally{if(u)throw o}}return a}}(t,r)||It(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Et(t){return function(t){if(Array.isArray(t))return xt(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||It(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function It(t,r){if(t){if("string"==typeof t)return xt(t,r);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?xt(t,r):void 0}}function xt(t,r){(null==r||r>t.length)&&(r=t.length);for(var e=0,n=new Array(r);e<r;e++)n[e]=t[e];return n}function kt(t,r,e){return r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e,t}var Pt=[],Tt=new MutationObserver((function(t){t.forEach((function(t){"childList"===t.type&&(t.addedNodes.forEach((function(t){pt("mount",t)})),t.removedNodes.forEach((function(t){pt("unmount",t),document.body.contains(t)||pt("destroy",t)})))}))}));Tt.observe(document.body,{childList:!0,subtree:!0});var Ct=function t(r){if(function(t){return null==t}(r))return{str:"",handlers:[],dict:{}};if(function(t){return t instanceof e}(r))return r;if(m(r)||h(r)){var o=f();return{str:"$$id:".concat(o),handlers:[],dict:kt({},o,r)}}if(v(r)){var a=f();return{str:'<marker id="node-'.concat(a,'" />'),handlers:[{type:"node",selector:"#node-".concat(a),data:{value:r}}],dict:{}}}if(b(r)){var i=Z(r.map(t));return{str:i.str.join(" "),handlers:i.handlers,dict:i.dict}}if(p(r)){var u=j(r),c=u.hook,l=function(t,r){if(null==t)return{};var e,n,o=function(t,r){if(null==t)return{};var e,n,o={},a=Object.keys(t);for(n=0;n<a.length;n++)e=a[n],r.indexOf(e)>=0||(o[e]=t[e]);return o}(t,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)e=a[n],r.indexOf(e)>=0||Object.prototype.propertyIsEnumerable.call(t,e)&&(o[e]=t[e])}return o}(u,St),s=X(l),d=c?function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=f(),e='data-proxyid="'.concat(r,'"'),o={};Object.entries(t).forEach((function(t){var e=rt(t,2),a=e[0],i=e[1];Object.entries(i).forEach((function(t){var e=rt(t,2),i=e[0],u=e[1],c=ut.get(u[n]),l=c.get(r)||[];o[a]||(o[a]={}),o[a][i]=x(u.data.value,u.data.trap),c.set(r,[].concat(tt(l),[{type:a,target:i,prop:u.data.prop,trap:u.data.trap}]))}))}));var a=X(o),i=a.str;return{handlers:a.handlers,str:[].concat(tt(i),[e])}}(c):{str:[],handlers:[]};return{str:[].concat(Et(s.str),Et(d.str)).join(" "),handlers:[s.handlers,d.handlers].flat(2),dict:{}}}return{str:"".concat(r),handlers:[],dict:{}}},Mt=function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];var a=Z(n.map(Ct)),i=wt(C(t,a.str));return new e(i,a.handlers,a.dict)},Lt=function(t){var r=[],e=t;return Pt.forEach((function(t){var n;if(n=b(t)?I.apply(void 0,Et(t))(e):t(e),b(n))e=n[0],r.push.apply(r,Et(n[1]||[]));else{if("string"!=typeof n)throw new Error("Preprocessor must return a string or an array");e=n}})),[e,r]},$t=function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=Lt(t),o=jt(n,2),a=o[0],i=o[1],u=[].concat(Et(r),Et(i)),c=document.createRange().createContextualFragment(a);return mt(c,u),k(c).forEach((function(t){At(t),Ot(t,e),pt("create",t)})),c},Ht=function(t,r){var e=$t.apply(void 0,Et(Object.values(t)));if(r){var n="string"==typeof r?document.querySelector(r):r;return n.append(e),n}return e};const Dt={addIgnoredAttribute:function(){return u.push.apply(u,arguments)},addBooleanAttribute:function(){return a.push.apply(a,arguments)},addPreprocessor:function(){var t;return(t=Pt).push.apply(t,arguments)},removePreprocessor:function(t){Pt=Pt.filter((function(r){return r!==t}))},disableObserver:function(){return Tt.disconnect()}};module.exports=r})();